{"ast":null,"code":"import _asyncToGenerator from \"C:/projetos/fisica/Fisica/src/Fisica.Website/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/instituicao.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction ListarInstituicoesComponent_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ListarInstituicoesComponent_tr_20_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const instituicao_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.excluir(instituicao_r1.id));\n    });\n    i0.ɵɵtext(9, \"Excluir\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const instituicao_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", instituicao_r1.nome, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", instituicao_r1.site, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", instituicao_r1.email, \" \");\n  }\n}\nconst _c0 = function () {\n  return [\"/inserir-instituicao\"];\n};\nexport class ListarInstituicoesComponent {\n  constructor(service) {\n    this.service = service;\n    this.instituicoes = [];\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.buscarInstituicoes();\n    })();\n  }\n  buscarInstituicoes() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.instituicoes = yield _this2.service.getInstituicoes().toPromise();\n    })();\n  }\n  excluir(id) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      yield _this3.service.excluir(id).toPromise();\n      yield _this3.buscarInstituicoes();\n    })();\n  }\n}\nListarInstituicoesComponent.ɵfac = function ListarInstituicoesComponent_Factory(t) {\n  return new (t || ListarInstituicoesComponent)(i0.ɵɵdirectiveInject(i1.InstituicaoService));\n};\nListarInstituicoesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListarInstituicoesComponent,\n  selectors: [[\"app-listar-instituicoes\"]],\n  decls: 21,\n  vars: 3,\n  consts: [[1, \"row\"], [1, \"col-md-12\", \"pull-rigth\"], [1, \"btn\", \"btn-success\", 3, \"routerLink\"], [\"aria-hidden\", \"true\", 1, \"fa\"], [1, \"col-md-12\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function ListarInstituicoesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵelement(3, \"i\", 3);\n      i0.ɵɵtext(4, \" Novo \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(5, \"div\", 0)(6, \"div\", 4)(7, \"table\", 5)(8, \"thead\")(9, \"tr\")(10, \"th\");\n      i0.ɵɵtext(11, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Cidade\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Site\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"th\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"tbody\");\n      i0.ɵɵtemplate(20, ListarInstituicoesComponent_tr_20_Template, 10, 3, \"tr\", 6);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.instituicoes);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAoBQA,0BAA6C;IACtCA,YAAuB;IAAAA,iBAAK;IACjCA,0BAAI;IAACA,YAAuB;IAAAA,iBAAK;IACjCA,0BAAI;IAACA,YAAwB;IAAAA,iBAAK;IAClCA,0BAAI;IAA+BA;MAAA;MAAA;MAAA;MAAA,OAASA,gDAAuB;IAAA,EAAC;IAACA,uBAAO;IAAAA,iBAAS;;;;IAHhFA,eAAuB;IAAvBA,oDAAuB;IACvBA,eAAuB;IAAvBA,oDAAuB;IACvBA,eAAwB;IAAxBA,qDAAwB;;;;;;ACdvC,OAAM,MAAOC,2BAA2B;EAItCC,YACUC,OAA2B;IAA3B,YAAO,GAAPA,OAAO;IAGf,IAAI,CAACC,YAAY,GAAG,EAAE;EACxB;EAEMC,QAAQ;IAAA;IAAA;MACZ,MAAM,KAAI,CAACC,kBAAkB,EAAE;IAAC;EAClC;EAEcA,kBAAkB;IAAA;IAAA;MAC9B,MAAI,CAACF,YAAY,SAAU,MAAI,CAACD,OAAO,CAACI,eAAe,EAAE,CAACC,SAAS,EAAI;IAAC;EAC1E;EAEaC,OAAO,CAACC,EAAW;IAAA;IAAA;MAC9B,MAAM,MAAI,CAACP,OAAO,CAACM,OAAO,CAACC,EAAG,CAAC,CAACF,SAAS,EAAE;MAC3C,MAAM,MAAI,CAACF,kBAAkB,EAAE;IAAC;EAClC;;AAtBWL,2BAA2B;mBAA3BA,2BAA2B;AAAA;AAA3BA,2BAA2B;QAA3BA,2BAA2B;EAAAU;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDTxCf,8BAAiB;MAGXA,uBAAqC;MAACA,sBACxC;MAAAA,iBAAI;MAGRA,8BAAiB;MAKHA,qBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,qBAAI;MAAAA,iBAAK;MACbA,2BAAI;MAAAA,sBAAK;MAAAA,iBAAK;MACdA,sBAAS;MACXA,iBAAK;MAEPA,8BAAO;MACLA,6EAKK;MACPA,iBAAQ;;;MAxBiBA,eAAuC;MAAvCA,uDAAuC;MAkBlCA,gBAAe;MAAfA,0CAAe","names":["i0","ListarInstituicoesComponent","constructor","service","instituicoes","ngOnInit","buscarInstituicoes","getInstituicoes","toPromise","excluir","id","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\listar-instituicoes\\listar-instituicoes.component.html","C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\listar-instituicoes\\listar-instituicoes.component.ts"],"sourcesContent":["<div class=\"row\">\r\n  <div class=\"col-md-12 pull-rigth\">\r\n    <a class=\"btn btn-success\" [routerLink]=\"['/inserir-instituicao']\">\r\n      <i class=\"fa\" aria-hidden=\"true\"></i> Novo\r\n    </a>\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Nome</th>\r\n          <th>Cidade</th>\r\n          <th>Site</th>\r\n          <th>Email</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let instituicao of instituicoes\">\r\n          <td> {{ instituicao.nome }} </td>\r\n          <td> {{ instituicao.site }} </td>\r\n          <td> {{ instituicao.email }} </td>\r\n          <td><button class=\"btn btn-danger\" (click)=\"excluir(instituicao.id)\">Excluir</button></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\nimport { Instituicao } from '../../shared/models/instituicao.model';\r\nimport { InstituicaoService } from '../../shared/services/instituicao.service';\r\n\n@Component({\n  selector: 'app-listar-instituicoes',\n  templateUrl: './listar-instituicoes.component.html',\n  styleUrls: ['./listar-instituicoes.component.css']\n})\nexport class ListarInstituicoesComponent implements OnInit {\r\n\r\n  instituicoes: Instituicao[];\r\n\r\n  constructor(\r\n    private service: InstituicaoService,\r\n  )\r\n  {\r\n    this.instituicoes = [];\r\n  }\r\n\r\n  async ngOnInit() {\r\n    await this.buscarInstituicoes();\r\n  }\n\n  private async buscarInstituicoes() {\n    this.instituicoes = (await this.service.getInstituicoes().toPromise())!;\r\n  }\n\n  public async excluir(id?: number) {\n    await this.service.excluir(id!).toPromise();\r\n    await this.buscarInstituicoes();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}