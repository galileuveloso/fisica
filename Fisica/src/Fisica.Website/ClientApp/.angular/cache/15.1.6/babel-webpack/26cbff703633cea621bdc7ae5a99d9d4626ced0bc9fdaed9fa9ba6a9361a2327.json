{"ast":null,"code":"import _asyncToGenerator from \"C:/projetos/fisica/Fisica/src/Fisica.Website/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Usuario } from '../../../shared/models/usuario.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../shared/services/notificacoes.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function () {\n  return [\"/usuarios\"];\n};\nexport class InserirUsuarioComponent {\n  constructor(notificacoesService) {\n    this.notificacoesService = notificacoesService;\n    this.usuario = new Usuario();\n  }\n  ngOnInit() {}\n  buscarInstituicoes() {\n    return _asyncToGenerator(function* () {})();\n  }\n  inserir() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.camposValidos()) {\n        _this.instituicao.endereco.cidadeId = _this.cidade.id;\n        _this.instituicao.endereco.cidade = _this.cidade;\n        yield _this.service.inserir(_this.instituicao).toPromise();\n        _this.router.navigate([\"/instituicoes\"]);\n      }\n    })();\n  }\n  camposValidos() {\n    let valido = true;\n    if (!this.usuario.nome) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Nome' para continuar.\");\n      valido = false;\n    }\n    if (!this.usuario.email) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Email' para continuar.\");\n      valido = false;\n    }\n    if (!this.usuario.cpf) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Site' para continuar.\");\n      valido = false;\n    }\n    if (!this.usuario.login) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Logradouro' para continuar.\");\n      valido = false;\n    }\n    if (!this.usuario.senha) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Logradouro' para continuar.\");\n      valido = false;\n    }\n    if (!this.usuario.tipoUsuario) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Logradouro' para continuar.\");\n      valido = false;\n    }\n    return valido;\n  }\n}\nInserirUsuarioComponent.ɵfac = function InserirUsuarioComponent_Factory(t) {\n  return new (t || InserirUsuarioComponent)(i0.ɵɵdirectiveInject(i1.NotificacoesService));\n};\nInserirUsuarioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InserirUsuarioComponent,\n  selectors: [[\"app-inserir-usuario\"]],\n  decls: 55,\n  vars: 7,\n  consts: [[1, \"row\"], [1, \"col-md-4\"], [1, \"form-group\"], [\"for\", \"nome\"], [\"type\", \"text\", \"id\", \"nome\", \"name\", \"nome\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"nome\", \"ngModel\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"email\", \"ngModel\"], [\"for\", \"cpf\"], [\"type\", \"text\", \"id\", \"cpf\", \"name\", \"cpf\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"login\"], [\"type\", \"text\", \"id\", \"login\", \"name\", \"login\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"id\", \"login\", \"name\", \"login\", 1, \"form-control\"], [\"for\", \"tipo\"], [1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [1, \"col-md-12\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-save\"], [1, \"btn\", \"btn-secondary\", 3, \"routerLink\"], [\"aria-hidden\", \"true\", 1, \"fa\"]],\n  template: function InserirUsuarioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Inserir Usu\\u00E1rio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1)(4, \"div\", 2)(5, \"label\", 3);\n      i0.ɵɵtext(6, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 4, 5);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirUsuarioComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.usuario.nome = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\", 1)(10, \"div\", 2)(11, \"label\", 6);\n      i0.ɵɵtext(12, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 7, 8);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirUsuarioComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.usuario.email = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(15, \"div\", 1)(16, \"div\", 2)(17, \"label\", 9);\n      i0.ɵɵtext(18, \"CPF\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 10, 8);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirUsuarioComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.usuario.cpf = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(21, \"div\", 0)(22, \"div\", 1)(23, \"div\", 2)(24, \"label\", 11);\n      i0.ɵɵtext(25, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 12, 8);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirUsuarioComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.usuario.login = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(28, \"div\", 1)(29, \"div\", 2)(30, \"label\", 11);\n      i0.ɵɵtext(31, \"Senha (provavel seja enviado email pro usuario configurar a propria senha)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"input\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(33, \"div\", 1)(34, \"div\", 2)(35, \"label\", 14);\n      i0.ɵɵtext(36, \"Tipo de Usu\\u00E1rio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"select\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirUsuarioComponent_Template_select_ngModelChange_37_listener($event) {\n        return ctx.usuario.tipoUsuario = $event;\n      });\n      i0.ɵɵelementStart(38, \"option\", 16);\n      i0.ɵɵtext(39, \"Comum\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"option\", 17);\n      i0.ɵɵtext(41, \"Professor\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"option\", 18);\n      i0.ɵɵtext(43, \"Professor Administrador (Institui\\u00E7\\u00E3o)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"option\", 19);\n      i0.ɵɵtext(45, \"Adminstrador\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(46, \"div\", 0)(47, \"div\", 20)(48, \"div\", 2)(49, \"button\", 21);\n      i0.ɵɵlistener(\"click\", function InserirUsuarioComponent_Template_button_click_49_listener() {\n        return ctx.inserir();\n      });\n      i0.ɵɵelement(50, \"i\", 22);\n      i0.ɵɵtext(51, \" Salvar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"a\", 23);\n      i0.ɵɵelement(53, \"i\", 24);\n      i0.ɵɵtext(54, \" Voltar \");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.usuario.nome);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.usuario.email);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.usuario.cpf);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.usuario.login);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngModel\", ctx.usuario.tipoUsuario);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(6, _c0));\n    }\n  },\n  dependencies: [i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgModel, i3.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Usuario","InserirUsuarioComponent","constructor","notificacoesService","usuario","ngOnInit","buscarInstituicoes","inserir","camposValidos","instituicao","endereco","cidadeId","cidade","id","service","toPromise","router","navigate","valido","nome","mostrarAviso","email","cpf","login","senha","tipoUsuario","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\usuario\\inserir-usuario\\inserir-usuario.component.ts","C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\usuario\\inserir-usuario\\inserir-usuario.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Usuario } from '../../../shared/models/usuario.model';\r\nimport { NotificacoesService } from '../../../shared/services/notificacoes.service';\r\n\n@Component({\n  selector: 'app-inserir-usuario',\n  templateUrl: './inserir-usuario.component.html',\n  styleUrls: ['./inserir-usuario.component.css']\n})\nexport class InserirUsuarioComponent implements OnInit {\r\n\r\n  usuario: Usuario;\r\n\r\n  constructor(\r\n    private notificacoesService: NotificacoesService,\r\n  ) {\r\n    this.usuario = new Usuario(); \r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\n\n  private async buscarInstituicoes() {\r\n\r\n  }\r\n\r\n  public async inserir(): Promise<void> {\r\n    if (this.camposValidos()) {\r\n      this.instituicao.endereco!.cidadeId = this.cidade.id;\r\n      this.instituicao.endereco!.cidade = this.cidade;\r\n      await this.service.inserir(this.instituicao).toPromise();\r\n      this.router.navigate([\"/instituicoes\"]);\r\n    }\r\n  }\n\n  private camposValidos(): boolean {\r\n    let valido = true;\r\n\r\n    if (!this.usuario.nome) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Nome' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n\r\n    if (!this.usuario.email) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Email' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n    if (!this.usuario.cpf) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Site' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n    if (!this.usuario.login) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Logradouro' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n    if (!this.usuario.senha) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Logradouro' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n    if (!this.usuario.tipoUsuario) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Logradouro' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n    return valido;\r\n  }\n}\n","<h1>Inserir Usuário</h1>\r\n<div class=\"row\">\r\n  <div class=\"col-md-4\">\r\n    <div class=\"form-group\">\r\n      <label for=\"nome\">Nome</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"nome\" name=\"nome\" [(ngModel)]=\"usuario.nome\" #nome=\"ngModel\">\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-4\">\r\n    <div class=\"form-group\">\r\n      <label for=\"email\">Email</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" [(ngModel)]=\"usuario.email\" #email=\"ngModel\">\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-4\">\r\n    <div class=\"form-group\">\r\n      <label for=\"cpf\">CPF</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"cpf\" name=\"cpf\" [(ngModel)]=\"usuario.cpf\" #email=\"ngModel\">\r\n    </div>\r\n  </div>\r\n</div> \r\n<div class=\"row\">\r\n  <div class=\"col-md-4\">\r\n    <div class=\"form-group\">\r\n      <label for=\"login\">Login</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"login\" name=\"login\" [(ngModel)]=\"usuario.login\" #email=\"ngModel\">\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-4\">\r\n    <div class=\"form-group\">\r\n      <label for=\"login\">Senha (provavel seja enviado email pro usuario configurar a propria senha)</label>\r\n      <input type=\"password\" class=\"form-control\" id=\"login\" name=\"login\">\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-4\">\r\n    <div class=\"form-group\">\r\n      <label for=\"tipo\">Tipo de Usuário</label>\r\n      <select class=\"form-control\"  [(ngModel)]=\"usuario.tipoUsuario\">\r\n        <option value=\"1\">Comum</option>\r\n        <option value=\"2\">Professor</option>\r\n        <option value=\"3\">Professor Administrador (Instituição)</option>\r\n        <option value=\"4\">Adminstrador</option>\r\n      </select>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <div class=\"form-group\">\r\n      <button type=\"button\" class=\"btn btn-primary\" (click)=\"inserir()\">\r\n        <i class=\"fa fa-save\" aria-hidden=\"true\"></i> Salvar\r\n      </button>\r\n      <a class=\"btn btn-secondary\" [routerLink]=\"['/usuarios']\">\r\n        <i class=\"fa\" aria-hidden=\"true\"></i> Voltar\r\n      </a>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}