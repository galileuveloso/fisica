{"ast":null,"code":"import _asyncToGenerator from \"C:/projetos/fisica/Fisica/src/Fisica.Website/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Aula } from '../../../shared/models/aula.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../shared/services/aula.service\";\nimport * as i3 from \"../../../shared/services/segue.service\";\nimport * as i4 from \"../../../shared/services/favorito.service\";\nimport * as i5 from \"../../../shared/services/comentario-aula.service\";\nimport * as i6 from \"../../../shared/services/widget.service\";\nexport class VisualizarAulaComponent {\n  constructor(route, aulaService, segueService, favoritoService, comentarioService, widgetService) {\n    this.route = route;\n    this.aulaService = aulaService;\n    this.segueService = segueService;\n    this.favoritoService = favoritoService;\n    this.comentarioService = comentarioService;\n    this.widgetService = widgetService;\n    this.aulaId = 0;\n    this.professorId = 0;\n    this.aula = new Aula();\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.route.snapshot.paramMap.get('id')) {\n        //redirecionar pois nao veio aula\n      }\n      _this.aulaId = parseInt(_this.route.snapshot.paramMap.get('id'));\n      yield _this.buscarAula();\n      _this.professorId = _this.aula.professorId;\n    })();\n  }\n  buscarAula() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.aula = yield _this2.aulaService.buscarAula(_this2.aulaId).toPromise();\n      console.log(_this2.aula);\n    })();\n  }\n  seguirProfessor() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      yield _this3.segueService.seguirProfessor(_this3.professorId).toPromise();\n    })();\n  }\n  deixarDeSeguirProfessor() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      yield _this4.segueService.deixarDeSeguirProfessor(_this4.professorId).toPromise();\n    })();\n  }\n  adicionarFavorito(aulaId, sessaoAulaId) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      yield _this5.favoritoService.adicionarFavorito(aulaId, sessaoAulaId).toPromise();\n    })();\n  }\n  removerFavorito(favoritoId) {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      yield _this6.favoritoService.removerFavorito(favoritoId);\n    })();\n  }\n  inserirComentario() {\n    var _this7 = this;\n    return _asyncToGenerator(function* () {\n      yield _this7.comentarioService.adicionarComentario(_this7.aulaId, \"\").toPromise(); //TO-DO: Colocar a descricao do campo.\n    })();\n  }\n\n  removerComentario(comentarioId) {\n    var _this8 = this;\n    return _asyncToGenerator(function* () {\n      yield _this8.comentarioService.excluirComentario(comentarioId).toPromise();\n    })();\n  }\n  adicionarWidget(widgetId) {\n    var _this9 = this;\n    return _asyncToGenerator(function* () {\n      yield _this9.widgetService.inserirAula(_this9.aulaId, widgetId).toPromise();\n    })();\n  }\n}\nVisualizarAulaComponent.ɵfac = function VisualizarAulaComponent_Factory(t) {\n  return new (t || VisualizarAulaComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AulaService), i0.ɵɵdirectiveInject(i3.SegueService), i0.ɵɵdirectiveInject(i4.FavoritoService), i0.ɵɵdirectiveInject(i5.ComentarioAulaService), i0.ɵɵdirectiveInject(i6.WidgetService));\n};\nVisualizarAulaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: VisualizarAulaComponent,\n  selectors: [[\"app-visualizar-aula\"]],\n  decls: 2,\n  vars: 0,\n  template: function VisualizarAulaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"visualizar-aula works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AAEA,SAASA,IAAI,QAAQ,mCAAmC;;;;;;;;AAYxD,OAAM,MAAOC,uBAAuB;EAqBlCC,YACUC,KAAqB,EACrBC,WAAwB,EACxBC,YAA0B,EAC1BC,eAAgC,EAChCC,iBAAwC,EACxCC,aAA4B;IAL5B,UAAK,GAALL,KAAK;IACL,gBAAW,GAAXC,WAAW;IACX,iBAAY,GAAZC,YAAY;IACZ,oBAAe,GAAfC,eAAe;IACf,sBAAiB,GAAjBC,iBAAiB;IACjB,kBAAa,GAAbC,aAAa;IAErB,IAAI,CAACC,MAAM,GAAG,CAAC;IACf,IAAI,CAACC,WAAW,GAAG,CAAC;IACpB,IAAI,CAACC,IAAI,GAAG,IAAIX,IAAI,EAAE;EACxB;EAEaY,QAAQ;IAAA;IAAA;MACnB,IAAI,CAAC,KAAI,CAACT,KAAK,CAACU,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC,EAAE;QAC3C;MAAA;MAEF,KAAI,CAACN,MAAM,GAAGO,QAAQ,CAAC,KAAI,CAACb,KAAK,CAACU,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAE,CAAC;MAC/D,MAAM,KAAI,CAACE,UAAU,EAAE;MACvB,KAAI,CAACP,WAAW,GAAG,KAAI,CAACC,IAAI,CAACD,WAAY;IAAC;EAC5C;EAEcO,UAAU;IAAA;IAAA;MACtB,MAAI,CAACN,IAAI,SAAU,MAAI,CAACP,WAAW,CAACa,UAAU,CAAC,MAAI,CAACR,MAAM,CAAC,CAACS,SAAS,EAAI;MACzEC,OAAO,CAACC,GAAG,CAAC,MAAI,CAACT,IAAI,CAAC;IAAC;EACzB;EAEcU,eAAe;IAAA;IAAA;MAC3B,MAAM,MAAI,CAAChB,YAAY,CAACgB,eAAe,CAAC,MAAI,CAACX,WAAW,CAAC,CAACQ,SAAS,EAAE;IAAC;EACxE;EAEcI,uBAAuB;IAAA;IAAA;MACnC,MAAM,MAAI,CAACjB,YAAY,CAACiB,uBAAuB,CAAC,MAAI,CAACZ,WAAW,CAAC,CAACQ,SAAS,EAAE;IAAC;EAChF;EAEcK,iBAAiB,CAACd,MAAe,EAAEe,YAAqB;IAAA;IAAA;MACpE,MAAM,MAAI,CAAClB,eAAe,CAACiB,iBAAiB,CAACd,MAAM,EAAEe,YAAY,CAAC,CAACN,SAAS,EAAE;IAAC;EACjF;EAEcO,eAAe,CAACC,UAAkB;IAAA;IAAA;MAC9C,MAAM,MAAI,CAACpB,eAAe,CAACmB,eAAe,CAACC,UAAU,CAAC;IAAC;EACzD;EAEcC,iBAAiB;IAAA;IAAA;MAC7B,MAAM,MAAI,CAACpB,iBAAiB,CAACqB,mBAAmB,CAAC,MAAI,CAACnB,MAAM,EAAE,EAAE,CAAC,CAACS,SAAS,EAAE,CAAC,CAAC;IAAA;EACjF;;EAEcW,iBAAiB,CAACC,YAAoB;IAAA;IAAA;MAClD,MAAM,MAAI,CAACvB,iBAAiB,CAACwB,iBAAiB,CAACD,YAAY,CAAC,CAACZ,SAAS,EAAE;IAAC;EAC3E;EAEcc,eAAe,CAACC,QAAgB;IAAA;IAAA;MAC5C,MAAM,MAAI,CAACzB,aAAa,CAAC0B,WAAW,CAAC,MAAI,CAACzB,MAAM,EAAEwB,QAAQ,CAAC,CAACf,SAAS,EAAE;IAAC;EAC1E;;AA1EWjB,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;QAAvBA,uBAAuB;EAAAkC;EAAAC;EAAAC;EAAAC;IAAA;MCdpCC,yBAAG;MAAAA,sCAAsB;MAAAA,iBAAI","names":["Aula","VisualizarAulaComponent","constructor","route","aulaService","segueService","favoritoService","comentarioService","widgetService","aulaId","professorId","aula","ngOnInit","snapshot","paramMap","get","parseInt","buscarAula","toPromise","console","log","seguirProfessor","deixarDeSeguirProfessor","adicionarFavorito","sessaoAulaId","removerFavorito","favoritoId","inserirComentario","adicionarComentario","removerComentario","comentarioId","excluirComentario","adicionarWidget","widgetId","inserirAula","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\usuario-comum\\aula\\visualizar-aula\\visualizar-aula.component.ts","C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\usuario-comum\\aula\\visualizar-aula\\visualizar-aula.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Aula } from '../../../shared/models/aula.model';\r\nimport { AulaService } from '../../../shared/services/aula.service';\r\nimport { ComentarioAulaService } from '../../../shared/services/comentario-aula.service';\r\nimport { FavoritoService } from '../../../shared/services/favorito.service';\r\nimport { SegueService } from '../../../shared/services/segue.service';\r\nimport { WidgetService } from '../../../shared/services/widget.service';\r\n\n@Component({\n  selector: 'app-visualizar-aula',\n  templateUrl: './visualizar-aula.component.html',\n  styleUrls: ['./visualizar-aula.component.css']\n})\nexport class VisualizarAulaComponent implements OnInit {\r\n\r\n  /**\r\n   *  HU – Acessar aula postada\r\n   * \r\n   *  Deve carregar a aula.                                           -> buscarAula();\r\n   *  Deve ser possível seguir o professor que publicou a aula.       -> seguirProfessor(); -> deixarDeSeguirProfessor();\r\n   *  Deve ser possível clicar em “adicionar aulas em favoritos”.     -> adicionarFavorito();\r\n   *  Deve ser possível clicar em “retirar aula favoritada”.          -> removerFavorito();\r\n   *  Deve carregar comentários da aula.                              -> Já vem no buscarAula.\r\n   *  Deve ser possível cadastrar um comentário aula.                 -> inserirComentario(); -> removerComentario();\r\n   *  Deve ser possível adicionar a aula em sua dashboard de estudos. -> adicionarWidget();\r\n   *  Deve ser possível acessar o menu.\r\n   *  Deve ser possível voltar para a tela anterior.\r\n   *\r\n   * */\r\n\r\n  professorId: number;\r\n  aulaId: number;\r\n  aula: Aula;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private aulaService: AulaService,\r\n    private segueService: SegueService,\r\n    private favoritoService: FavoritoService,\r\n    private comentarioService: ComentarioAulaService,\r\n    private widgetService: WidgetService\r\n  ) {\r\n    this.aulaId = 0;\r\n    this.professorId = 0;\r\n    this.aula = new Aula();\r\n  }\r\n\r\n  public async ngOnInit(): Promise<void> {\r\n    if (!this.route.snapshot.paramMap.get('id')) {\r\n      //redirecionar pois nao veio aula\r\n    }\r\n    this.aulaId = parseInt(this.route.snapshot.paramMap.get('id')!);\r\n    await this.buscarAula();\r\n    this.professorId = this.aula.professorId!;\r\n  }\n\n  private async buscarAula(): Promise<void> {\n    this.aula = (await this.aulaService.buscarAula(this.aulaId).toPromise())!;\r\n    console.log(this.aula);\r\n  }\n\n  private async seguirProfessor(): Promise<void> {\n    await this.segueService.seguirProfessor(this.professorId).toPromise();\r\n  }\n\n  private async deixarDeSeguirProfessor(): Promise<void> {\n    await this.segueService.deixarDeSeguirProfessor(this.professorId).toPromise();\r\n  }\n\n  private async adicionarFavorito(aulaId?: number, sessaoAulaId?: number) {\n    await this.favoritoService.adicionarFavorito(aulaId, sessaoAulaId).toPromise();\r\n  }\n\n  private async removerFavorito(favoritoId: number): Promise<void> {\n    await this.favoritoService.removerFavorito(favoritoId);\r\n  }\n\n  private async inserirComentario(): Promise<void> {\n    await this.comentarioService.adicionarComentario(this.aulaId, \"\").toPromise(); //TO-DO: Colocar a descricao do campo.\r\n  }\n\n  private async removerComentario(comentarioId: number): Promise<void> {\n    await this.comentarioService.excluirComentario(comentarioId).toPromise();\r\n  }\n\n  private async adicionarWidget(widgetId: number): Promise<void> {\n    await this.widgetService.inserirAula(this.aulaId, widgetId).toPromise();\r\n  }\n}\n","<p>visualizar-aula works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}