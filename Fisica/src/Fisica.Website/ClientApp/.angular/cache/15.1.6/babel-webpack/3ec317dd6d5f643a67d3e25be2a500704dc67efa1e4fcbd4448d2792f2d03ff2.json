{"ast":null,"code":"import _asyncToGenerator from \"C:/projetos/fisica/Fisica/src/Fisica.Website/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Cidade } from '../../shared/models/cidade.model';\nimport { Endereco } from '../../shared/models/endereco.model';\nimport { Instituicao } from '../../shared/models/instituicao.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/instituicao.service\";\nimport * as i2 from \"../../shared/services/cidade.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@ng-select/ng-select\";\nconst _c0 = function () {\n  return [\"/instituicoes\"];\n};\nexport class InserirInstituicaoComponent {\n  constructor(service, cidadeService, router) {\n    this.service = service;\n    this.cidadeService = cidadeService;\n    this.router = router;\n    this.cidade = new Cidade();\n    this.instituicao = new Instituicao();\n    this.instituicao.endereco = new Endereco();\n    this.cidades = [];\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.buscarCidades();\n    })();\n  }\n  buscarCidades() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.cidades = yield _this2.cidadeService.BuscarCidades().toPromise();\n    })();\n  }\n  inserir() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (_this3.camposValidos()) {\n        _this3.instituicao.endereco.cidadeId = _this3.cidade.id;\n        _this3.instituicao.endereco.cidade = _this3.cidade;\n        yield _this3.service.inserir(_this3.instituicao).toPromise();\n        _this3.router.navigate([\"/instituicoes\"]);\n      }\n    })();\n  }\n  camposValidos() {}\n}\nInserirInstituicaoComponent.ɵfac = function InserirInstituicaoComponent_Factory(t) {\n  return new (t || InserirInstituicaoComponent)(i0.ɵɵdirectiveInject(i1.InstituicaoService), i0.ɵɵdirectiveInject(i2.CidadeService), i0.ɵɵdirectiveInject(i3.Router));\n};\nInserirInstituicaoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InserirInstituicaoComponent,\n  selectors: [[\"app-inserir-instituicao\"]],\n  inputs: {\n    cidades: \"cidades\"\n  },\n  decls: 64,\n  vars: 12,\n  consts: [[\"formInstituicao\", \"ngForm\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"form-group\"], [\"for\", \"nome\"], [\"type\", \"text\", \"id\", \"nome\", \"name\", \"nome\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"nome\", \"ngModel\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"email\", \"ngModel\"], [\"for\", \"site\"], [\"type\", \"text\", \"id\", \"site\", \"name\", \"site\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"site\", \"ngModel\"], [1, \"col-md-12\"], [\"for\", \"descricao\"], [\"id\", \"descricao\", \"rows\", \"4\", \"cols\", \"50\", \"maxlength\", \"600\", \"name\", \"descricao\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"descricao\", \"ngModel\"], [1, \"col-md-8\"], [\"for\", \"logradouro\"], [\"type\", \"text\", \"id\", \"logradouro\", \"name\", \"logradouro\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"logradouro\", \"ngModel\"], [\"type\", \"number\", \"id\", \"numero\", \"name\", \"numero\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"numero\", \"ngModel\"], [1, \"col-md-6\"], [\"for\", \"cidades\"], [\"name\", \"cidades\", \"bindvalue\", \"id\", \"bindLabel\", \"descricaoFormatada\", 1, \"form-control\", 3, \"items\", \"ngModel\", \"ngModelChange\"], [\"for\", \"bairro\"], [\"type\", \"text\", \"id\", \"bairro\", \"name\", \"bairro\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"bairro\", \"ngModel\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-save\"], [1, \"btn\", \"btn-secondary\", 3, \"routerLink\"], [\"aria-hidden\", \"true\", 1, \"fa\"]],\n  template: function InserirInstituicaoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Inserir Institui\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", null, 0)(4, \"div\", 1)(5, \"div\", 2)(6, \"div\", 3)(7, \"label\", 4);\n      i0.ɵɵtext(8, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 5, 6);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.instituicao.nome = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"div\", 2)(12, \"div\", 3)(13, \"label\", 7);\n      i0.ɵɵtext(14, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 8, 9);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.instituicao.email = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"div\", 2)(18, \"div\", 3)(19, \"label\", 10);\n      i0.ɵɵtext(20, \"Site\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"input\", 11, 12);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.instituicao.site = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(23, \"div\", 1)(24, \"div\", 13)(25, \"div\", 3)(26, \"label\", 14);\n      i0.ɵɵtext(27, \"Descricao\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"textarea\", 15, 16);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_textarea_ngModelChange_28_listener($event) {\n        return ctx.instituicao.descricao = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(30, \"div\", 1)(31, \"div\", 17)(32, \"div\", 3)(33, \"label\", 18);\n      i0.ɵɵtext(34, \"Logradouro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"input\", 19, 20);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_35_listener($event) {\n        return ctx.instituicao.endereco.logradouro = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(37, \"div\", 2)(38, \"div\", 3)(39, \"label\", 18);\n      i0.ɵɵtext(40, \"N\\u00FAmero\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"input\", 21, 22);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_41_listener($event) {\n        return ctx.instituicao.endereco.numero = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(43, \"div\", 1)(44, \"div\", 23)(45, \"div\", 3)(46, \"label\", 24);\n      i0.ɵɵtext(47, \"Cidade\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"ng-select\", 25);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_ng_select_ngModelChange_48_listener($event) {\n        return ctx.cidade = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(49, \"div\", 23)(50, \"div\", 3)(51, \"label\", 26);\n      i0.ɵɵtext(52, \"Bairro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"input\", 27, 28);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_53_listener($event) {\n        return ctx.instituicao.endereco.bairro = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(55, \"div\", 1)(56, \"div\", 13)(57, \"div\", 3)(58, \"button\", 29);\n      i0.ɵɵlistener(\"click\", function InserirInstituicaoComponent_Template_button_click_58_listener() {\n        return ctx.inserir();\n      });\n      i0.ɵɵelement(59, \"i\", 30);\n      i0.ɵɵtext(60, \" Salvar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"a\", 31);\n      i0.ɵɵelement(62, \"i\", 32);\n      i0.ɵɵtext(63, \" Voltar \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(3);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.nome);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.email);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.site);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.descricao);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.endereco.logradouro);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.endereco.numero);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"items\", ctx.cidades)(\"ngModel\", ctx.cidade);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.endereco.bairro);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(11, _c0));\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.MaxLengthValidator, i4.NgModel, i4.NgForm, i3.RouterLink, i5.NgSelectComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Cidade","Endereco","Instituicao","InserirInstituicaoComponent","constructor","service","cidadeService","router","cidade","instituicao","endereco","cidades","ngOnInit","buscarCidades","BuscarCidades","toPromise","inserir","camposValidos","cidadeId","id","navigate","selectors","inputs","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\inserir-instituicao\\inserir-instituicao.component.ts","C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\inserir-instituicao\\inserir-instituicao.component.html"],"sourcesContent":["import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Cidade } from '../../shared/models/cidade.model';\r\nimport { Endereco } from '../../shared/models/endereco.model';\r\nimport { Instituicao } from '../../shared/models/instituicao.model';\r\nimport { CidadeService } from '../../shared/services/cidade.service';\r\nimport { InstituicaoService } from '../../shared/services/instituicao.service';\r\n\r\n@Component({\r\n  selector: 'app-inserir-instituicao',\r\n  templateUrl: './inserir-instituicao.component.html',\r\n  styleUrls: ['./inserir-instituicao.component.css']\r\n})\r\nexport class InserirInstituicaoComponent implements OnInit {\r\n\r\n  @Input()\r\n  cidades: Cidade[];\r\n\r\n  instituicao!: Instituicao;\r\n  cidade: Cidade;\r\n\r\n  constructor(\r\n    private service: InstituicaoService,\r\n    private cidadeService: CidadeService,\r\n    private router: Router\r\n  ) {\r\n    this.cidade = new Cidade();\r\n    this.instituicao = new Instituicao();\r\n    this.instituicao.endereco = new Endereco();\r\n    this.cidades = [];\r\n  }\r\n\r\n  async ngOnInit() {\r\n    await this.buscarCidades();\r\n  }\r\n\r\n  private async buscarCidades() {\r\n    this.cidades = (await this.cidadeService.BuscarCidades().toPromise())!;\r\n  }\r\n\r\n  async inserir(): Promise<void> {\r\n    if (this.camposValidos()) {\r\n      this.instituicao.endereco!.cidadeId = this.cidade.id;\r\n      this.instituicao.endereco!.cidade = this.cidade;\r\n      await this.service.inserir(this.instituicao).toPromise();\r\n      this.router.navigate([\"/instituicoes\"]);\r\n    }\r\n  }\r\n\r\n  private camposValidos(): boolean {\r\n\r\n  }\r\n}\r\n","<h1>Inserir Instituição</h1>\r\n<form #formInstituicao=\"ngForm\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-4\">\r\n      <div class=\"form-group\">\r\n        <label for=\"nome\">Nome</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"nome\" name=\"nome\" [(ngModel)]=\"instituicao.nome\" #nome=\"ngModel\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-4\">\r\n      <div class=\"form-group\">\r\n        <label for=\"email\">Email</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" [(ngModel)]=\"instituicao.email\" #email=\"ngModel\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-4\">\r\n      <div class=\"form-group\">\r\n        <label for=\"site\">Site</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"site\" name=\"site\" [(ngModel)]=\"instituicao.site\" #site=\"ngModel\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"form-group\">\r\n        <label for=\"descricao\">Descricao</label>\r\n        <textarea class=\"form-control\" id=\"descricao\" rows=\"4\" cols=\"50\" maxlength=\"600\" name=\"descricao\" [(ngModel)]=\"instituicao.descricao\" #descricao=\"ngModel\"></textarea>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-8\">\r\n      <div class=\"form-group\">\r\n        <label for=\"logradouro\">Logradouro</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"logradouro\" name=\"logradouro\" [(ngModel)]=\"instituicao.endereco!.logradouro\" #logradouro=\"ngModel\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-4\">\r\n      <div class=\"form-group\">\r\n        <label for=\"logradouro\">Número</label>\r\n        <input type=\"number\" class=\"form-control\" id=\"numero\" name=\"numero\" [(ngModel)]=\"instituicao.endereco!.numero\" #numero=\"ngModel\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <div class=\"form-group\">\r\n        <label for=\"cidades\">Cidade</label>\r\n        <ng-select name=\"cidades\" bindvalue=\"id\" [items]=\"cidades\" bindLabel=\"descricaoFormatada\" [(ngModel)]=\"cidade\" class=\"form-control\"></ng-select>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <div class=\"form-group\">\r\n        <label for=\"bairro\">Bairro</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"bairro\" name=\"bairro\" [(ngModel)]=\"instituicao.endereco!.bairro\" #bairro=\"ngModel\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"form-group\">\r\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"inserir()\" [disabled]=\"!formInstituicao.form.valid\">\r\n          <i class=\"fa fa-save\" aria-hidden=\"true\"></i> Salvar\r\n        </button>\r\n        <a class=\"btn btn-secondary\" [routerLink]=\"['/instituicoes']\">\r\n          <i class=\"fa\" aria-hidden=\"true\"></i> Voltar\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}