{"ast":null,"code":"import _asyncToGenerator from \"C:/projetos/fisica/Fisica/src/Fisica.Website/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Cidade } from '../../shared/models/cidade.model';\nimport { Endereco } from '../../shared/models/endereco.model';\nimport { Instituicao } from '../../shared/models/instituicao.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/instituicao.service\";\nimport * as i2 from \"../../shared/services/cidade.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ng-select/ng-select\";\nconst _c0 = [\"formInstituicao\"];\nfunction InserirInstituicaoComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"Digite o nome.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r1.errors == null ? null : _r1.errors[\"required\"]));\n  }\n}\nfunction InserirInstituicaoComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"Digiteo o email.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(19);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r3.errors == null ? null : _r3.errors[\"required\"]));\n  }\n}\nfunction InserirInstituicaoComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"Digiteo o site.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r5 = i0.ɵɵreference(26);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r5.errors == null ? null : _r5.errors[\"required\"]));\n  }\n}\nfunction InserirInstituicaoComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"Digite a descri\\u00E7\\u00E3o.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r7 = i0.ɵɵreference(34);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r7.errors == null ? null : _r7.errors[\"required\"]));\n  }\n}\nfunction InserirInstituicaoComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"Digiteo o logradouro.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r9 = i0.ɵɵreference(42);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r9.errors == null ? null : _r9.errors[\"required\"]));\n  }\n}\nfunction InserirInstituicaoComponent_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"div\", 34);\n    i0.ɵɵtext(2, \"Digiteo o bairro.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r12 = i0.ɵɵreference(54);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r12.errors == null ? null : _r12.errors[\"required\"]));\n  }\n}\nconst _c1 = function () {\n  return [\"/instituicoes\"];\n};\nexport class InserirInstituicaoComponent {\n  constructor(service, cidadeService, router) {\n    this.service = service;\n    this.cidadeService = cidadeService;\n    this.router = router;\n    this.cidade = new Cidade();\n    this.instituicao = new Instituicao();\n    this.instituicao.endereco = new Endereco();\n    this.cidades = [];\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.buscarCidades();\n    })();\n  }\n  buscarCidades() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.cidades = yield _this2.cidadeService.BuscarCidades().toPromise();\n    })();\n  }\n  inserir() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (_this3.formInstituicao.form.valid) {\n        _this3.instituicao.endereco.cidadeId = _this3.cidade.id;\n        _this3.instituicao.endereco.cidade = _this3.cidade;\n        yield _this3.service.inserir(_this3.instituicao).toPromise();\n        _this3.router.navigate([\"/instituicoes\"]);\n      }\n    })();\n  }\n}\nInserirInstituicaoComponent.ɵfac = function InserirInstituicaoComponent_Factory(t) {\n  return new (t || InserirInstituicaoComponent)(i0.ɵɵdirectiveInject(i1.InstituicaoService), i0.ɵɵdirectiveInject(i2.CidadeService), i0.ɵɵdirectiveInject(i3.Router));\n};\nInserirInstituicaoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InserirInstituicaoComponent,\n  selectors: [[\"app-inserir-instituicao\"]],\n  viewQuery: function InserirInstituicaoComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.formInstituicao = _t.first);\n    }\n  },\n  inputs: {\n    cidades: \"cidades\"\n  },\n  decls: 67,\n  vars: 18,\n  consts: [[1, \"row\"], [1, \"col-md-12\"], [\"formInstituicao\", \"ngForm\"], [1, \"col-md-4\"], [1, \"form-group\"], [\"for\", \"nome\"], [\"type\", \"text\", \"id\", \"nome\", \"name\", \"nome\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"nome\", \"ngModel\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"email\", \"ngModel\"], [\"for\", \"site\"], [\"type\", \"text\", \"id\", \"site\", \"name\", \"site\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"site\", \"ngModel\"], [\"for\", \"descricao\"], [\"id\", \"descricao\", \"rows\", \"4\", \"cols\", \"50\", \"maxlength\", \"600\", \"name\", \"descricao\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"descricao\", \"ngModel\"], [1, \"col-md-8\"], [\"for\", \"logradouro\"], [\"type\", \"text\", \"id\", \"logradouro\", \"name\", \"logradouro\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"logradouro\", \"ngModel\"], [\"type\", \"number\", \"id\", \"numero\", \"name\", \"numero\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"numero\", \"ngModel\"], [\"for\", \"bairro\"], [\"type\", \"text\", \"id\", \"bairro\", \"name\", \"bairro\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"bairro\", \"ngModel\"], [\"for\", \"cidades\"], [\"name\", \"cidades\", \"bindvalue\", \"id\", \"bindLabel\", \"descricaoFormatada\", 1, \"form-control\", 3, \"items\", \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-save\"], [1, \"btn\", \"btn-secondary\", 3, \"routerLink\"], [\"aria-hidden\", \"true\", 1, \"fa\"], [1, \"alert\", \"alert-danger\"], [3, \"hidden\"]],\n  template: function InserirInstituicaoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Inserir Institui\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1)(4, \"form\", null, 2)(6, \"div\", 0)(7, \"div\", 3)(8, \"div\", 4)(9, \"label\", 5);\n      i0.ɵɵtext(10, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 6, 7);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.instituicao.nome = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(13, InserirInstituicaoComponent_div_13_Template, 3, 1, \"div\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 3)(15, \"div\", 4)(16, \"label\", 9);\n      i0.ɵɵtext(17, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"input\", 10, 11);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_18_listener($event) {\n        return ctx.instituicao.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(20, InserirInstituicaoComponent_div_20_Template, 3, 1, \"div\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 3)(22, \"div\", 4)(23, \"label\", 12);\n      i0.ɵɵtext(24, \"Site\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"input\", 13, 14);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_25_listener($event) {\n        return ctx.instituicao.site = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(27, InserirInstituicaoComponent_div_27_Template, 3, 1, \"div\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(28, \"div\", 0)(29, \"div\", 1)(30, \"div\", 4)(31, \"label\", 15);\n      i0.ɵɵtext(32, \"Descricao\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"textarea\", 16, 17);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_textarea_ngModelChange_33_listener($event) {\n        return ctx.instituicao.descricao = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(35, InserirInstituicaoComponent_div_35_Template, 3, 1, \"div\", 8);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(36, \"div\", 0)(37, \"div\", 18)(38, \"div\", 4)(39, \"label\", 19);\n      i0.ɵɵtext(40, \"Logradouro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"input\", 20, 21);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_41_listener($event) {\n        return ctx.instituicao.endereco.logradouro = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(43, InserirInstituicaoComponent_div_43_Template, 3, 1, \"div\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(44, \"div\", 3)(45, \"div\", 4)(46, \"label\", 19);\n      i0.ɵɵtext(47, \"N\\u00FAmero\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"input\", 22, 23);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_48_listener($event) {\n        return ctx.instituicao.endereco.numero = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(50, \"div\", 4)(51, \"label\", 24);\n      i0.ɵɵtext(52, \"Bairro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"input\", 25, 26);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_53_listener($event) {\n        return ctx.instituicao.endereco.bairro = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(55, InserirInstituicaoComponent_div_55_Template, 3, 1, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(56, \"div\", 4)(57, \"label\", 27);\n      i0.ɵɵtext(58, \"Cidade\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"ng-select\", 28);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_ng_select_ngModelChange_59_listener($event) {\n        return ctx.cidade = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(60, \"div\", 4)(61, \"button\", 29);\n      i0.ɵɵlistener(\"click\", function InserirInstituicaoComponent_Template_button_click_61_listener() {\n        return ctx.inserir();\n      });\n      i0.ɵɵelement(62, \"i\", 30);\n      i0.ɵɵtext(63, \" Salvar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"a\", 31);\n      i0.ɵɵelement(65, \"i\", 32);\n      i0.ɵɵtext(66, \" Voltar \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(5);\n      const _r1 = i0.ɵɵreference(12);\n      const _r3 = i0.ɵɵreference(19);\n      const _r5 = i0.ɵɵreference(26);\n      const _r7 = i0.ɵɵreference(34);\n      const _r9 = i0.ɵɵreference(42);\n      const _r12 = i0.ɵɵreference(54);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.nome);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r1.errors && (_r1.dirty || _r1.touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r3.errors && (_r3.dirty || _r3.touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.site);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r5.errors && (_r5.dirty || _r5.touched));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.descricao);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r7.errors && (_r7.dirty || _r7.touched));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.endereco.logradouro);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r9.errors && (_r9.dirty || _r9.touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.endereco.numero);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.endereco.bairro);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r12.errors && (_r12.dirty || _r12.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"items\", ctx.cidades)(\"ngModel\", ctx.cidade);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(17, _c1));\n    }\n  },\n  dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MaxLengthValidator, i5.NgModel, i5.NgForm, i3.RouterLink, i6.NgSelectComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Cidade","Endereco","Instituicao","i0","InserirInstituicaoComponent","constructor","service","cidadeService","router","cidade","instituicao","endereco","cidades","ngOnInit","buscarCidades","BuscarCidades","toPromise","inserir","formInstituicao","form","valid","cidadeId","id","navigate","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\inserir-instituicao\\inserir-instituicao.component.ts","C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\inserir-instituicao\\inserir-instituicao.component.html"],"sourcesContent":["import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Cidade } from '../../shared/models/cidade.model';\r\nimport { Endereco } from '../../shared/models/endereco.model';\r\nimport { Instituicao } from '../../shared/models/instituicao.model';\r\nimport { CidadeService } from '../../shared/services/cidade.service';\r\nimport { InstituicaoService } from '../../shared/services/instituicao.service';\r\n\r\n@Component({\r\n  selector: 'app-inserir-instituicao',\r\n  templateUrl: './inserir-instituicao.component.html',\r\n  styleUrls: ['./inserir-instituicao.component.css']\r\n})\r\nexport class InserirInstituicaoComponent implements OnInit {\r\n\r\n  @ViewChild('formInstituicao') formInstituicao!: NgForm;\r\n\r\n  @Input()\r\n  cidades: Cidade[];\r\n\r\n  instituicao!: Instituicao;\r\n  cidade: Cidade;\r\n\r\n  constructor(\r\n    private service: InstituicaoService,\r\n    private cidadeService: CidadeService,\r\n    private router: Router\r\n  ) {\r\n    this.cidade = new Cidade();\r\n    this.instituicao = new Instituicao();\r\n    this.instituicao.endereco = new Endereco();\r\n    this.cidades = [];\r\n  }\r\n\r\n  async ngOnInit() {\r\n\r\n    await this.buscarCidades();\r\n  }\r\n\r\n  private async buscarCidades() {\r\n    this.cidades = (await this.cidadeService.BuscarCidades().toPromise())!;\r\n  }\r\n\r\n  async inserir(): Promise<void> {\r\n    if (this.formInstituicao.form.valid) {\r\n      this.instituicao.endereco!.cidadeId = this.cidade.id;\r\n      this.instituicao.endereco!.cidade = this.cidade;\r\n      await this.service.inserir(this.instituicao).toPromise();\r\n      this.router.navigate([\"/instituicoes\"]);\r\n    }\r\n  }\r\n}\r\n","<h1>Inserir Instituição</h1>\r\n<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <form #formInstituicao=\"ngForm\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n          <div class=\"form-group\">\r\n            <label for=\"nome\">Nome</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"nome\" name=\"nome\" required [(ngModel)]=\"instituicao.nome\" #nome=\"ngModel\">\r\n            <div *ngIf=\"nome.errors && (nome.dirty || nome.touched)\" class=\"alert alert-danger\">\r\n              <div [hidden]=\"!nome.errors?.['required']\">Digite o nome.</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <div class=\"form-group\">\r\n            <label for=\"email\">Email</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" required [(ngModel)]=\"instituicao.email\" #email=\"ngModel\">\r\n            <div *ngIf=\"email.errors && (email.dirty || email.touched)\" class=\"alert alert-danger\">\r\n              <div [hidden]=\"!email.errors?.['required']\">Digiteo o email.</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <div class=\"form-group\">\r\n            <label for=\"site\">Site</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"site\" name=\"site\" required [(ngModel)]=\"instituicao.site\" #site=\"ngModel\">\r\n            <div *ngIf=\"site.errors && (site.dirty || site.touched)\" class=\"alert alert-danger\">\r\n              <div [hidden]=\"!site.errors?.['required']\">Digiteo o site.</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"form-group\">\r\n            <label for=\"descricao\">Descricao</label>\r\n            <textarea class=\"form-control\" id=\"descricao\" rows=\"4\" cols=\"50\" maxlength=\"600\" name=\"descricao\" required [(ngModel)]=\"instituicao.descricao\" #descricao=\"ngModel\"></textarea>\r\n            <div *ngIf=\"descricao.errors && (descricao.dirty || descricao.touched)\" class=\"alert alert-danger\">\r\n              <div [hidden]=\"!descricao.errors?.['required']\">Digite a descrição.</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-md-8\">\r\n          <div class=\"form-group\">\r\n            <label for=\"logradouro\">Logradouro</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"logradouro\" name=\"logradouro\" required [(ngModel)]=\"instituicao.endereco!.logradouro\" #logradouro=\"ngModel\">\r\n            <div *ngIf=\"logradouro.errors && (logradouro.dirty || logradouro.touched)\" class=\"alert alert-danger\">\r\n              <div [hidden]=\"!logradouro.errors?.['required']\">Digiteo o logradouro.</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <div class=\"form-group\">\r\n            <label for=\"logradouro\">Número</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"numero\" name=\"numero\" required [(ngModel)]=\"instituicao.endereco!.numero\" #numero=\"ngModel\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"bairro\">Bairro</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"bairro\" name=\"bairro\" required [(ngModel)]=\"instituicao.endereco!.bairro\" #bairro=\"ngModel\">\r\n        <div *ngIf=\"bairro.errors && (bairro.dirty || bairro.touched)\" class=\"alert alert-danger\">\r\n          <div [hidden]=\"!bairro.errors?.['required']\">Digiteo o bairro.</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"cidades\">Cidade</label>\r\n        <ng-select name=\"cidades\" bindvalue=\"id\" [items]=\"cidades\" bindLabel=\"descricaoFormatada\" [(ngModel)]=\"cidade\" class=\"form-control\"></ng-select>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"inserir()\" [disabled]=\"!formInstituicao.form.valid\">\r\n          <i class=\"fa fa-save\" aria-hidden=\"true\"></i> Salvar\r\n        </button>\r\n        <a class=\"btn btn-secondary\" [routerLink]=\"['/instituicoes']\">\r\n          <i class=\"fa\" aria-hidden=\"true\"></i> Voltar\r\n        </a>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}