{"ast":null,"code":"import _asyncToGenerator from \"C:/projetos/fisica/Fisica/src/Fisica.Website/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Usuario } from '../../../shared/models/usuario.model';\nlet InserirUsuarioComponent = class InserirUsuarioComponent {\n  constructor(notificacoesService, instituicaoService, router) {\n    this.notificacoesService = notificacoesService;\n    this.instituicaoService = instituicaoService;\n    this.router = router;\n    this.usuario = new Usuario();\n    this.instituicoes = [];\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      yield _this.buscarInstituicoes();\n    })();\n  }\n  buscarInstituicoes() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.instituicoes = yield _this2.instituicaoService.getInstituicoes().toPromise();\n    })();\n  }\n  inserir() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (_this3.camposValidos()) {\n        if (_this3.instituicao) _this3.usuario.instituicao = _this3.instituicao;\n        _this3.router.navigate([\"/instituicoes\"]);\n      }\n    })();\n  }\n  camposValidos() {\n    let valido = true;\n    if (!this.usuario.nome) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Nome' para continuar.\");\n      valido = false;\n    }\n    if (!this.usuario.email) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Email' para continuar.\");\n      valido = false;\n    }\n    if (!this.usuario.cpf) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Cpf' para continuar.\");\n      valido = false;\n    }\n    if (!this.usuario.login) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Login' para continuar.\");\n      valido = false;\n    }\n    if (!this.usuario.senha) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Senha' para continuar.\");\n      valido = false;\n    }\n    if (!this.usuario.tipoUsuario) {\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Tipo Usuário' para continuar.\");\n      valido = false;\n    }\n    return valido;\n  }\n};\nInserirUsuarioComponent = __decorate([Component({\n  selector: 'app-inserir-usuario',\n  templateUrl: './inserir-usuario.component.html',\n  styleUrls: ['./inserir-usuario.component.css']\n})], InserirUsuarioComponent);\nexport { InserirUsuarioComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAEjD,SAASC,OAAO,QAAQ,sCAAsC;AASvD,IAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAMlCC,YACUC,mBAAwC,EACxCC,kBAAsC,EACtCC,MAAc;IAFd,wBAAmB,GAAnBF,mBAAmB;IACnB,uBAAkB,GAAlBC,kBAAkB;IAClB,WAAM,GAANC,MAAM;IAEd,IAAI,CAACC,OAAO,GAAG,IAAIN,OAAO,EAAE;IAC5B,IAAI,CAACO,YAAY,GAAG,EAAE;EACxB;EAEMC,QAAQ;IAAA;IAAA;MACZ,MAAM,KAAI,CAACC,kBAAkB,EAAE;IAAC;EAClC;EAEcA,kBAAkB;IAAA;IAAA;MAC9B,MAAI,CAACF,YAAY,SAAU,MAAI,CAACH,kBAAkB,CAACM,eAAe,EAAE,CAACC,SAAS,EAAI;IAAC;EACrF;EAEaC,OAAO;IAAA;IAAA;MAClB,IAAI,MAAI,CAACC,aAAa,EAAE,EAAE;QACxB,IAAI,MAAI,CAACC,WAAW,EAClB,MAAI,CAACR,OAAO,CAACQ,WAAW,GAAG,MAAI,CAACA,WAAW;QAC7C,MAAI,CAACT,MAAM,CAACU,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC;;IACxC;EACH;EAEQF,aAAa;IACnB,IAAIG,MAAM,GAAG,IAAI;IAEjB,IAAI,CAAC,IAAI,CAACV,OAAO,CAACW,IAAI,EAAE;MACtB,IAAI,CAACd,mBAAmB,CAACe,YAAY,CAAC,yCAAyC,CAAC;MAChFF,MAAM,GAAG,KAAK;;IAIhB,IAAI,CAAC,IAAI,CAACV,OAAO,CAACa,KAAK,EAAE;MACvB,IAAI,CAAChB,mBAAmB,CAACe,YAAY,CAAC,0CAA0C,CAAC;MACjFF,MAAM,GAAG,KAAK;;IAGhB,IAAI,CAAC,IAAI,CAACV,OAAO,CAACc,GAAG,EAAE;MACrB,IAAI,CAACjB,mBAAmB,CAACe,YAAY,CAAC,wCAAwC,CAAC;MAC/EF,MAAM,GAAG,KAAK;;IAGhB,IAAI,CAAC,IAAI,CAACV,OAAO,CAACe,KAAK,EAAE;MACvB,IAAI,CAAClB,mBAAmB,CAACe,YAAY,CAAC,0CAA0C,CAAC;MACjFF,MAAM,GAAG,KAAK;;IAGhB,IAAI,CAAC,IAAI,CAACV,OAAO,CAACgB,KAAK,EAAE;MACvB,IAAI,CAACnB,mBAAmB,CAACe,YAAY,CAAC,0CAA0C,CAAC;MACjFF,MAAM,GAAG,KAAK;;IAGhB,IAAI,CAAC,IAAI,CAACV,OAAO,CAACiB,WAAW,EAAE;MAC7B,IAAI,CAACpB,mBAAmB,CAACe,YAAY,CAAC,iDAAiD,CAAC;MACxFF,MAAM,GAAG,KAAK;;IAGhB,OAAOA,MAAM;EACf;CACD;AAnEYf,uBAAuB,eALnCF,SAAS,CAAC;EACTyB,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,GACWzB,uBAAuB,CAmEnC;SAnEYA,uBAAuB","names":["Component","Usuario","InserirUsuarioComponent","constructor","notificacoesService","instituicaoService","router","usuario","instituicoes","ngOnInit","buscarInstituicoes","getInstituicoes","toPromise","inserir","camposValidos","instituicao","navigate","valido","nome","mostrarAviso","email","cpf","login","senha","tipoUsuario","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\usuario\\inserir-usuario\\inserir-usuario.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Instituicao } from '../../../shared/models/instituicao.model';\r\nimport { Usuario } from '../../../shared/models/usuario.model';\r\nimport { InstituicaoService } from '../../../shared/services/instituicao.service';\r\nimport { NotificacoesService } from '../../../shared/services/notificacoes.service';\r\n\n@Component({\n  selector: 'app-inserir-usuario',\n  templateUrl: './inserir-usuario.component.html',\n  styleUrls: ['./inserir-usuario.component.css']\n})\nexport class InserirUsuarioComponent implements OnInit {\r\n\r\n  usuario: Usuario;\r\n  instituicao?: Instituicao;\r\n  instituicoes: Instituicao[];\r\n\r\n  constructor(\r\n    private notificacoesService: NotificacoesService,\r\n    private instituicaoService: InstituicaoService,\r\n    private router: Router\r\n  ) {\r\n    this.usuario = new Usuario();\r\n    this.instituicoes = [];\r\n  }\r\n\r\n  async ngOnInit(): Promise<void> {\r\n    await this.buscarInstituicoes();\r\n  }\n\n  private async buscarInstituicoes(): Promise<void> {\r\n    this.instituicoes = (await this.instituicaoService.getInstituicoes().toPromise())!;\r\n  }\r\n\r\n  public async inserir(): Promise<void> {\r\n    if (this.camposValidos()) {\r\n      if (this.instituicao)\r\n        this.usuario.instituicao = this.instituicao;\r\n      this.router.navigate([\"/instituicoes\"]);\r\n    }\r\n  }\n\n  private camposValidos(): boolean {\r\n    let valido = true;\r\n\r\n    if (!this.usuario.nome) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Nome' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n\r\n    if (!this.usuario.email) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Email' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n    if (!this.usuario.cpf) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Cpf' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n    if (!this.usuario.login) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Login' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n    if (!this.usuario.senha) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Senha' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n    if (!this.usuario.tipoUsuario) {\r\n      this.notificacoesService.mostrarAviso(\"Preencha o campo 'Tipo Usuário' para continuar.\");\r\n      valido = false;\r\n    }\r\n\r\n    return valido;\r\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}