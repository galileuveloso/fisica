{"ast":null,"code":"import _asyncToGenerator from \"C:/projetos/fisica/Fisica/src/Fisica.Website/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Endereco } from '../../shared/models/endereco.model';\nimport { Instituicao } from '../../shared/models/instituicao.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/instituicao.service\";\nimport * as i2 from \"../../shared/services/cidade.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ng-select/ng-select\";\nconst _c0 = [\"formInstituicao\"];\nfunction InserirInstituicaoComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"Digite o nome.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r1.errors == null ? null : _r1.errors[\"required\"]));\n  }\n}\nfunction InserirInstituicaoComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"Digite a descri\\u00E7\\u00E3o.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(15);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r3.errors == null ? null : _r3.errors[\"required\"]));\n  }\n}\nfunction InserirInstituicaoComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"Digiteo o email.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r5 = i0.ɵɵreference(21);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r5.errors == null ? null : _r5.errors[\"required\"]));\n  }\n}\nfunction InserirInstituicaoComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"Digiteo o site.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r7 = i0.ɵɵreference(27);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r7.errors == null ? null : _r7.errors[\"required\"]));\n  }\n}\nfunction InserirInstituicaoComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"Digiteo o bairro.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r9 = i0.ɵɵreference(33);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r9.errors == null ? null : _r9.errors[\"required\"]));\n  }\n}\nfunction InserirInstituicaoComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"Digiteo o logradouro.\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r11 = i0.ɵɵreference(39);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !(_r11.errors == null ? null : _r11.errors[\"required\"]));\n  }\n}\nconst _c1 = function () {\n  return [\"/instituicoes\"];\n};\nexport class InserirInstituicaoComponent {\n  constructor(service, cidadeService, router) {\n    this.service = service;\n    this.cidadeService = cidadeService;\n    this.router = router;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.instituicao = new Instituicao();\n      _this.instituicao.endereco = new Endereco();\n      yield _this.buscarCidades();\n    })();\n  }\n  buscarCidades() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.cidades = yield _this2.cidadeService.BuscarCidades().toPromise();\n      _this2.cidade = _this2.cidades[0];\n    })();\n  }\n  inserir() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (_this3.formInstituicao.form.valid) {\n        yield _this3.service.inserir(_this3.instituicao).toPromise();\n        _this3.router.navigate([\"/instituicoes\"]);\n      }\n    })();\n  }\n}\nInserirInstituicaoComponent.ɵfac = function InserirInstituicaoComponent_Factory(t) {\n  return new (t || InserirInstituicaoComponent)(i0.ɵɵdirectiveInject(i1.InstituicaoService), i0.ɵɵdirectiveInject(i2.CidadeService), i0.ɵɵdirectiveInject(i3.Router));\n};\nInserirInstituicaoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InserirInstituicaoComponent,\n  selectors: [[\"app-inserir-instituicao\"]],\n  viewQuery: function InserirInstituicaoComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.formInstituicao = _t.first);\n    }\n  },\n  inputs: {\n    cidades: \"cidades\"\n  },\n  decls: 52,\n  vars: 17,\n  consts: [[1, \"well\"], [\"formInstituicao\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"nome\"], [\"type\", \"text\", \"id\", \"nome\", \"name\", \"nome\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"nome\", \"ngModel\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"descricao\"], [\"type\", \"text\", \"id\", \"descricao\", \"name\", \"descricao\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"descricao\", \"ngModel\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"email\", \"ngModel\"], [\"for\", \"site\"], [\"type\", \"text\", \"id\", \"site\", \"name\", \"site\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"site\", \"ngModel\"], [\"for\", \"bairro\"], [\"type\", \"text\", \"id\", \"bairro\", \"name\", \"bairro\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"bairro\", \"ngModel\"], [\"for\", \"logradouro\"], [\"type\", \"text\", \"id\", \"logradouro\", \"name\", \"logradouro\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"logradouro\", \"ngModel\"], [\"for\", \"cidades\"], [\"name\", \"cidades\", \"bindvalue\", \"id\", \"bindLabel\", \"descricaoFormatada\", 1, \"form-control\", 3, \"items\", \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-save\"], [1, \"btn\", \"btn-secondary\", 3, \"routerLink\"], [\"aria-hidden\", \"true\", 1, \"fa\"], [1, \"alert\", \"alert-danger\"], [3, \"hidden\"]],\n  template: function InserirInstituicaoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Inserir Institui\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"form\", null, 1)(5, \"div\", 2)(6, \"label\", 3);\n      i0.ɵɵtext(7, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 4, 5);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.instituicao.nome = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, InserirInstituicaoComponent_div_10_Template, 3, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 2)(12, \"label\", 7);\n      i0.ɵɵtext(13, \"Descricao\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"input\", 8, 9);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.instituicao.descricao = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(16, InserirInstituicaoComponent_div_16_Template, 3, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 2)(18, \"label\", 10);\n      i0.ɵɵtext(19, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 11, 12);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.instituicao.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(22, InserirInstituicaoComponent_div_22_Template, 3, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 2)(24, \"label\", 13);\n      i0.ɵɵtext(25, \"Site\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 14, 15);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.instituicao.site = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(28, InserirInstituicaoComponent_div_28_Template, 3, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\", 2)(30, \"label\", 16);\n      i0.ɵɵtext(31, \"Bairro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"input\", 17, 18);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_32_listener($event) {\n        return ctx.instituicao.endereco.bairro = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(34, InserirInstituicaoComponent_div_34_Template, 3, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 2)(36, \"label\", 19);\n      i0.ɵɵtext(37, \"Logradouro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"input\", 20, 21);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_input_ngModelChange_38_listener($event) {\n        return ctx.instituicao.endereco.logradouro = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(40, InserirInstituicaoComponent_div_40_Template, 3, 1, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"div\", 2)(42, \"label\", 22);\n      i0.ɵɵtext(43, \"Cidade\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"ng-select\", 23);\n      i0.ɵɵlistener(\"ngModelChange\", function InserirInstituicaoComponent_Template_ng_select_ngModelChange_44_listener($event) {\n        return ctx.cidade = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(45, \"div\", 2)(46, \"button\", 24);\n      i0.ɵɵlistener(\"click\", function InserirInstituicaoComponent_Template_button_click_46_listener() {\n        return ctx.inserir();\n      });\n      i0.ɵɵelement(47, \"i\", 25);\n      i0.ɵɵtext(48, \" Salvar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"a\", 26);\n      i0.ɵɵelement(50, \"i\", 27);\n      i0.ɵɵtext(51, \" Voltar \");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(4);\n      const _r1 = i0.ɵɵreference(9);\n      const _r3 = i0.ɵɵreference(15);\n      const _r5 = i0.ɵɵreference(21);\n      const _r7 = i0.ɵɵreference(27);\n      const _r9 = i0.ɵɵreference(33);\n      const _r11 = i0.ɵɵreference(39);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.nome);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r1.errors && (_r1.dirty || _r1.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.descricao);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r3.errors && (_r3.dirty || _r3.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r5.errors && (_r5.dirty || _r5.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.site);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r7.errors && (_r7.dirty || _r7.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.endereco.bairro);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r9.errors && (_r9.dirty || _r9.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.instituicao.endereco.logradouro);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r11.errors && (_r11.dirty || _r11.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"items\", ctx.cidades)(\"ngModel\", ctx.cidade);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(16, _c1));\n    }\n  },\n  dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i3.RouterLink, i6.NgSelectComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Endereco","Instituicao","i0","InserirInstituicaoComponent","constructor","service","cidadeService","router","ngOnInit","instituicao","endereco","buscarCidades","cidades","BuscarCidades","toPromise","cidade","inserir","formInstituicao","form","valid","navigate","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\inserir-instituicao\\inserir-instituicao.component.ts","C:\\projetos\\fisica\\Fisica\\src\\Fisica.Website\\ClientApp\\src\\app\\admin\\inserir-instituicao\\inserir-instituicao.component.html"],"sourcesContent":["import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { Cidade } from '../../shared/models/cidade.model';\r\nimport { Endereco } from '../../shared/models/endereco.model';\r\nimport { Instituicao } from '../../shared/models/instituicao.model';\r\nimport { CidadeService } from '../../shared/services/cidade.service';\r\nimport { InstituicaoService } from '../../shared/services/instituicao.service';\r\n\r\n@Component({\r\n  selector: 'app-inserir-instituicao',\r\n  templateUrl: './inserir-instituicao.component.html',\r\n  styleUrls: ['./inserir-instituicao.component.css']\r\n})\r\nexport class InserirInstituicaoComponent implements OnInit {\r\n\r\n  @ViewChild('formInstituicao') formInstituicao!: NgForm; \r\n\r\n  @Input()\r\n  cidades?: Cidade[];\r\n\r\n  instituicao!: Instituicao;\r\n  cidade: Cidade;\r\n\r\n  constructor(\r\n    private service: InstituicaoService,\r\n    private cidadeService: CidadeService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    this.instituicao = new Instituicao();\r\n    this.instituicao.endereco = new Endereco();\r\n\r\n    await this.buscarCidades();\r\n  }\r\n\r\n  private async buscarCidades() {\r\n    this.cidades = await this.cidadeService.BuscarCidades().toPromise();\r\n    this.cidade = this.cidades[0];\r\n  }\r\n\r\n  async inserir(): Promise<void> {\r\n    if (this.formInstituicao.form.valid) {\r\n      await this.service.inserir(this.instituicao).toPromise();\r\n      this.router.navigate([\"/instituicoes\"]);\r\n    }\r\n  }\r\n}\r\n","<h1>Inserir Instituição</h1>\r\n<div class=\"well\">\r\n  <form #formInstituicao=\"ngForm\">\r\n    <div class=\"form-group\">\r\n      <label for=\"nome\">Nome</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"nome\" name=\"nome\" required [(ngModel)]=\"instituicao.nome\" #nome=\"ngModel\">\r\n      <div *ngIf=\"nome.errors && (nome.dirty || nome.touched)\" class=\"alert alert-danger\">\r\n        <div [hidden]=\"!nome.errors?.['required']\">Digite o nome.</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"descricao\">Descricao</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"descricao\" name=\"descricao\" required [(ngModel)]=\"instituicao.descricao\" #descricao=\"ngModel\">\r\n      <div *ngIf=\"descricao.errors && (descricao.dirty || descricao.touched)\" class=\"alert alert-danger\">\r\n        <div [hidden]=\"!descricao.errors?.['required']\">Digite a descrição.</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"email\">Email</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"email\" name=\"email\" required [(ngModel)]=\"instituicao.email\" #email=\"ngModel\">\r\n      <div *ngIf=\"email.errors && (email.dirty || email.touched)\" class=\"alert alert-danger\">\r\n        <div [hidden]=\"!email.errors?.['required']\">Digiteo o email.</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"site\">Site</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"site\" name=\"site\" required [(ngModel)]=\"instituicao.site\" #site=\"ngModel\">\r\n      <div *ngIf=\"site.errors && (site.dirty || site.touched)\" class=\"alert alert-danger\">\r\n        <div [hidden]=\"!site.errors?.['required']\">Digiteo o site.</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"bairro\">Bairro</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"bairro\" name=\"bairro\" required [(ngModel)]=\"instituicao.endereco!.bairro\" #bairro=\"ngModel\">\r\n      <div *ngIf=\"bairro.errors && (bairro.dirty || bairro.touched)\" class=\"alert alert-danger\">\r\n        <div [hidden]=\"!bairro.errors?.['required']\">Digiteo o bairro.</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"logradouro\">Logradouro</label>\r\n      <input type=\"text\" class=\"form-control\" id=\"logradouro\" name=\"logradouro\" required [(ngModel)]=\"instituicao.endereco!.logradouro\" #logradouro=\"ngModel\">\r\n      <div *ngIf=\"logradouro.errors && (logradouro.dirty || logradouro.touched)\" class=\"alert alert-danger\">\r\n        <div [hidden]=\"!logradouro.errors?.['required']\">Digiteo o logradouro.</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"cidades\">Cidade</label>\r\n      <ng-select name=\"cidades\" bindvalue=\"id\" [items]=\"cidades\" bindLabel=\"descricaoFormatada\" [(ngModel)]=\"cidade\" class=\"form-control\" ></ng-select>\r\n    </div>\r\n   \r\n    <div class=\"form-group\">\r\n      <button type=\"button\" class=\"btn btn-primary\" (click)=\"inserir()\" [disabled]=\"!formInstituicao.form.valid\">\r\n        <i class=\"fa fa-save\" aria-hidden=\"true\"></i> Salvar\r\n      </button>\r\n      <a class=\"btn btn-secondary\" [routerLink]=\"['/instituicoes']\">\r\n        <i class=\"fa\" aria-hidden=\"true\"></i> Voltar\r\n      </a>\r\n    </div>\r\n  </form>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}